# Puerto de la app
quarkus.http.port=9090

# Configuraci√≥n de logs
quarkus.log.file.enable=true
quarkus.log.file.path=logs/app.log
quarkus.log.file.rotation.max-file-size=10M
quarkus.log.file.rotation.max-backup-index=3
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.file.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# =============================
# üîê CONFIGURACI√ìN DE JWT
# =============================

# Ruta al archivo de clave p√∫blica (dentro del classpath)
mp.jwt.verify.publickey.location=public_key.pem

# Issuer esperado (debe coincidir con el claim "iss" del JWT)
mp.jwt.verify.issuer=quarkus-app

# Activar soporte de JWT
quarkus.smallrye-jwt.enabled=true

# =============================
# üîí POL√çTICAS DE SEGURIDAD
# =============================

# Roles permitidos para acceder a este path (requiere @RolesAllowed("user"))
# Aplica la pol√≠tica a este path (ajustar seg√∫n tu controller)
# Ruta protegida por rol "user"
quarkus.http.auth.permission.roles1.paths=/persons
quarkus.http.auth.permission.roles1.policy=authenticated

# Ruta protegida por rol "admin"
quarkus.http.auth.permission.admin.paths=/admin-only
quarkus.http.auth.permission.admin.policy=authenticated

quarkus.rest-client.external-api.url=https://jsonplaceholder.typicode.com

# =============================
# üêû LOGS DE DEBUG (opcional)
# =============================
quarkus.log.category."io.quarkus.security".level=DEBUG
quarkus.log.category."io.smallrye.jwt".level=DEBUG
# =============================
# Configuraci√≥n de CORS